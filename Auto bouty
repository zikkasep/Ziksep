--[[
Dark Ultimate R GUI Script
Fitur:
- Dark theme GUI dengan logo "R" (besar, tengah, bisa drag/geser)
- Drop shadow di belakang frame
- Tombol ON/OFF (ubah status, warna berubah)
- Tooltip/petunjuk di bawah frame
- FFS: Tekan F untuk dash ke depan cepat (jika ON)
- Anti AFK (otomatis mencegah kick idle)
- Skill Dash: Tekan E untuk dash ke depan (dengan cooldown, bisa diatur slider)
- Jump: Tekan Space untuk loncat (aktif jika ON)
- Slider (geser) untuk atur cooldown dash
- Auto Bounty: Teleport & auto attack player musuh (jika ON)
-- Tempelkan di LocalScript StarterGui
]]

local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- ANTI AFK
local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DarkUltimateRGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Frame utama (draggable)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 410, 0, 260)
mainFrame.Position = UDim2.new(0.3, 0, 0.25, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(22,22,30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Drop shadow
local shadow = Instance.new("Frame")
shadow.Size = mainFrame.Size + UDim2.new(0, 10, 0, 10)
shadow.Position = mainFrame.Position + UDim2.new(0, 5, 0, 5)
shadow.BackgroundColor3 = Color3.fromRGB(10,10,15)
shadow.BorderSizePixel = 0
shadow.BackgroundTransparency = 0.4
shadow.ZIndex = 0
shadow.Parent = screenGui
mainFrame.ZIndex = 1
mainFrame:GetPropertyChangedSignal("Position"):Connect(function()
    shadow.Position = mainFrame.Position + UDim2.new(0, 5, 0, 5)
end)

-- Logo "R"
local logo = Instance.new("TextLabel")
logo.Size = UDim2.new(0, 120, 0, 120)
logo.Position = UDim2.new(0.5, -60, 0, 15)
logo.BackgroundTransparency = 1
logo.Text = "R"
logo.Font = Enum.Font.GothamBlack
logo.TextColor3 = Color3.fromRGB(255,0,50)
logo.TextStrokeTransparency = 0.5
logo.TextScaled = true
logo.Parent = mainFrame

-- Tombol ON/OFF
local onOffBtn = Instance.new("TextButton")
onOffBtn.Size = UDim2.new(0, 100, 0, 38)
onOffBtn.Position = UDim2.new(0.5, -50, 0, 148)
onOffBtn.BackgroundColor3 = Color3.fromRGB(70,180,70)
onOffBtn.Text = "ON"
onOffBtn.Font = Enum.Font.GothamBold
onOffBtn.TextColor3 = Color3.fromRGB(255,255,255)
onOffBtn.TextSize = 26
onOffBtn.AutoButtonColor = false
onOffBtn.Parent = mainFrame

local isOn = true
onOffBtn.MouseButton1Click:Connect(function()
    isOn = not isOn
    onOffBtn.Text = isOn and "ON" or "OFF"
    onOffBtn.BackgroundColor3 = isOn and Color3.fromRGB(70,180,70) or Color3.fromRGB(180,70,70)
    if isOn then
        print("Script utama AKTIF")
    else
        print("Script utama MATI")
    end
end)

-- Tooltip
local tip = Instance.new("TextLabel")
tip.Size = UDim2.new(1, 0, 0, 24)
tip.Position = UDim2.new(0, 0, 1, -24)
tip.BackgroundTransparency = 1
tip.Text = "Geser frame | ON/OFF | F: FFS | E: Dash | Space: Jump | Geser slider | Auto Bounty"
tip.Font = Enum.Font.Gotham
tip.TextColor3 = Color3.fromRGB(150,150,150)
tip.TextSize = 13
tip.Parent = mainFrame

-- SLIDER COOL DOWN
local sliderLabel = Instance.new("TextLabel")
sliderLabel.Size = UDim2.new(0, 110, 0, 30)
sliderLabel.Position = UDim2.new(0, 240, 0, 30)
sliderLabel.BackgroundTransparency = 1
sliderLabel.Text = "Cooldown: 0.5"
sliderLabel.Font = Enum.Font.Gotham
sliderLabel.TextColor3 = Color3.fromRGB(255,255,255)
sliderLabel.TextSize = 20
sliderLabel.Parent = mainFrame

local sliderBar = Instance.new("Frame")
sliderBar.Size = UDim2.new(0, 150, 0, 8)
sliderBar.Position = UDim2.new(0, 240, 0, 65)
sliderBar.BackgroundColor3 = Color3.fromRGB(200,200,200)
sliderBar.BorderSizePixel = 0
sliderBar.Parent = mainFrame

local sliderKnob = Instance.new("Frame")
sliderKnob.Size = UDim2.new(0, 16, 0, 16)
sliderKnob.Position = UDim2.new(0, 240-8, 0, 61)
sliderKnob.BackgroundColor3 = Color3.fromRGB(100,100,255)
sliderKnob.BorderSizePixel = 0
sliderKnob.ZIndex = 2
sliderKnob.Parent = mainFrame

local dragging = false
local minX = sliderBar.Position.X.Offset
local maxX = minX + sliderBar.Size.X.Offset
local sliderValue = 0
local skillCooldown = 0.5

sliderKnob.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
    end
end)
game:GetService("UserInputService").InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)
game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local mouseX = input.Position.X - mainFrame.AbsolutePosition.X
        local newX = math.clamp(mouseX, minX, maxX)
        sliderKnob.Position = UDim2.new(0, newX-8, 0, 61)
        sliderValue = math.floor(((newX - minX) / (maxX - minX)) * 100)
        skillCooldown = math.floor((sliderValue/100)*95)/10 + 0.5
        sliderLabel.Text = "Cooldown: "..string.format("%.1f",skillCooldown)
    end
end)

-- FFS (Fast Forward Step): Tekan F untuk dash cepat
local UIS = game:GetService("UserInputService")
local char = player.Character or player.CharacterAdded:Wait()
UIS.InputBegan:Connect(function(input, chat)
    if not chat and isOn then
        if input.KeyCode == Enum.KeyCode.F then
            if char and char:FindFirstChild("HumanoidRootPart") then
                char.HumanoidRootPart.Velocity = char.HumanoidRootPart.CFrame.LookVector * 120
            end
        elseif input.KeyCode == Enum.KeyCode.E then
            useSkill()
        elseif input.KeyCode == Enum.KeyCode.Space then
            doJump()
        end
    end
end)

-- Skill Dash (E) & Jump (Space)
local canUseSkill = true
function useSkill()
    if canUseSkill and char:FindFirstChild("HumanoidRootPart") and isOn then
        canUseSkill = false
        char.HumanoidRootPart.Velocity = char.HumanoidRootPart.CFrame.LookVector * 80
        wait(skillCooldown)
        canUseSkill = true
    end
end
function doJump()
    if char:FindFirstChild("Humanoid") and isOn then
        char.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end

-- AUTO BOUNTY (Teleport & Auto Attack musuh, jika ON)
local Players = game:GetService("Players")
function findPlayerToKill()
    for i, target in pairs(Players:GetPlayers()) do
        if target ~= player and target.Team ~= player.Team and target.Character and target.Character:FindFirstChild("HumanoidRootPart") and target.Character.Humanoid.Health > 0 then
            return target
        end
    end
    return nil
end
function teleportToPlayer(target)
    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
        char.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame * CFrame.new(0,2,0)
    end
end
function autoAttack()
    -- Attack dengan tool utama
    local tool = char:FindFirstChildOfClass("Tool")
    if tool then
        tool:Activate()
    end
    -- Otomatis pencet skill Z, X, C, V
    local skills = {"Z","X","C","V"}
    for _, key in ipairs(skills) do
        game:GetService("VirtualInputManager"):SendKeyEvent(true, key, false, game)
        wait(0.06)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, key, false, game)
    end
end
spawn(function()
    while wait(1) do
        if isOn then
            local target = findPlayerToKill()
            if target then
                teleportToPlayer(target)
                autoAttack()
            end
        end
    end
end)
